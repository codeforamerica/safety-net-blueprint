# Common query parameters used across multiple APIs
LimitParam:
  name: limit
  in: query
  description: Maximum number of items to return (1-100).
  schema:
    type: integer
    minimum: 1
    maximum: 100
    default: 25

OffsetParam:
  name: offset
  in: query
  description: Number of items to skip before collecting results.
  schema:
    type: integer
    minimum: 0
    default: 0

SearchQueryParam:
  name: q
  in: query
  required: false
  schema:
    type: string
  description: |
    Search query using field:value syntax. Multiple conditions separated by
    spaces are ANDed together.

    **URL Encoding:** This parameter must be URL-encoded when sent over HTTP.
    Most HTTP clients handle this automatically. Examples in this documentation
    show human-readable syntax for clarity.

    ## Syntax

    | Pattern | Description | Example |
    |---------|-------------|---------|
    | `term` | Full-text exact match | `john` |
    | `*term*` | Full-text contains | `*john*` |
    | `term*` | Full-text starts with | `john*` |
    | `*term` | Full-text ends with | `*smith` |
    | `field:value` | Exact match on field | `status:approved` |
    | `field:*value*` | Contains (case-insensitive) | `name:*john*` |
    | `field:value*` | Starts with | `name:john*` |
    | `field:*value` | Ends with | `email:*@example.com` |
    | `field:"value"` | Quoted value (for spaces) | `name:"john doe"` |
    | `field.nested:value` | Nested field (dot notation) | `address.state:CA` |
    | `field:>value` | Greater than | `income:>1000` |
    | `field:>=value` | Greater than or equal | `income:>=1000` |
    | `field:<value` | Less than | `income:<5000` |
    | `field:<=value` | Less than or equal | `income:<=5000` |
    | `field:val1,val2` | Match any value (OR) | `status:approved,pending` |
    | `-field:value` | Exclude / negate | `-status:denied` |
    | `field:*` | Field exists (not null) | `email:*` |
    | `-field:*` | Field does not exist | `-deletedAt:*` |

    ## Examples

    - `john` — exact match for "john" in searchable fields
    - `*john*` — contains "john" in searchable fields
    - `name:*smith*` — name contains "smith" (case-insensitive)
    - `email:*@example.com` — email ends with "@example.com"
    - `status:approved` — exact match on status field
    - `status:approved,pending` — status is "approved" OR "pending"
    - `income:>=1000` — income greater than or equal to 1000
    - `created:>2024-01-01` — created after January 1, 2024
    - `status:approved income:>=1000` — approved AND income >= 1000 (multiple conditions)
    - `-status:denied` — exclude records with status "denied"
    - `-deletedAt:*` — only records where deletedAt does not exist
    - `applicant.state:CA` — nested field filter

    ## URL Encoding Reference

    When manually constructing URLs, encode these characters:

    | Character | Encoded |
    |-----------|---------|
    | (space) | `%20` or `+` |
    | `"` | `%22` |
    | `:` | `%3A` |
    | `>` | `%3E` |
    | `<` | `%3C` |
    | `,` | `%2C` |

    **Example:**
    ```
    Human-readable: q=status:approved income:>=1000
    URL-encoded:    q=status%3Aapproved%20income%3A%3E%3D1000
    ```
  examples:
    simpleSearch:
      summary: Full-text exact match
      value: john
    containsSearch:
      summary: Full-text contains
      value: "*john*"
    exactMatch:
      summary: Filter by status
      value: "status:approved"
    containsField:
      summary: Name contains (case-insensitive)
      value: "name:*smith*"
    startsWithField:
      summary: Name starts with
      value: "name:john*"
    endsWithField:
      summary: Email ends with domain
      value: "email:*@example.com"
    multipleFilters:
      summary: Status and income filter
      value: "status:approved income:>=1000"
    dateRange:
      summary: Created after date
      value: "created:>2024-01-01"
    multiValue:
      summary: Multiple statuses (OR)
      value: "status:approved,pending,under_review"
    negation:
      summary: Exclude denied
      value: "-status:denied"
    notExists:
      summary: Field does not exist
      value: "-deletedAt:*"
    nestedField:
      summary: Filter by nested field
      value: "applicant.state:CA"
