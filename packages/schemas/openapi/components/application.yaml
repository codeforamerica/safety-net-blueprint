# Application schema with all fields for public assistance programs
Application:
  type: object
  description: Application schema for public assistance programs. Supports applying for SNAP, Cash Programs, and/or Medical Assistance simultaneously.
  additionalProperties: false
  required:
    - id
    - persons
    - programs
    - createdAt
    - updatedAt
  properties:
    id:
      type: string
      format: uuid
      description: Unique identifier for the application.
      readOnly: true
    state:
      type: string
      pattern: "^[A-Z]{2}$"
      description: Two-letter state code where the application is being submitted (e.g., CO, CA, NY).
      example: CO
    status:
      type: string
      description: Current status of the application.
      enum:
        - draft
        - submitted
        - under_review
        - approved
        - denied
        - pending_information
        - withdrawn
    programs:
      $ref: "#/Programs"
      description: |
        Programs being applied for. A single application can include multiple programs.
        At least one program must be set to true (snap, at least one cash program, or medicalAssistance).
    persons:
      type: array
      description: |
        All persons associated with this application, including the primary applicant (relationship=self)
        and household members. At least one person with relationship=self is required.
      minItems: 1
      items:
        $ref: "#/ApplicationPerson"
    primaryApplicant:
      type: object
      description: |
        Information specific to the primary applicant (the person with relationship=self in the persons array).
        Includes contact information, signatures, and link to Person record.
      additionalProperties: false
      properties:
        personId:
          type: string
          format: uuid
          description: |
            Reference to Person record for the primary applicant.
            Populated after application processing when Person record is created.
        contactInfo:
          type: object
          description: Contact information for the primary applicant.
          additionalProperties: false
          properties:
            homeAddress:
              $ref: "./common.yaml#/Address"
              description: Home address of the primary applicant.
            mailingAddress:
              $ref: "./common.yaml#/Address"
              description: Mailing address if different from home address.
            phoneNumber:
              $ref: "./common.yaml#/PhoneNumber"
              description: Primary phone number.
            otherPhoneNumber:
              $ref: "./common.yaml#/PhoneNumber"
              description: Alternative phone number.
            email:
              $ref: "./common.yaml#/Email"
              description: Email address for electronic notices.
            speaksEnglish:
              type: boolean
              description: Whether the applicant speaks and reads English.
            preferredLanguage:
              $ref: "./common.yaml#/Language"
              description: Preferred language if not English.
            isHomeless:
              type: boolean
              description: Whether the applicant is currently homeless.
            isStateResident:
              type: boolean
              description: Whether the applicant is a resident of the state.
            preferredNoticeMethod:
              type: string
              description: Preferred method for receiving notices.
              enum:
                - paper
                - email
                - both
        signatures:
          type: object
          description: Primary applicant signatures.
          additionalProperties: false
          properties:
            applicantSignature:
              $ref: "./common.yaml#/Signature"
              description: Applicant signature.
            spouseCoApplicantSignature:
              $ref: "./common.yaml#/Signature"
              description: Spouse/co-applicant signature if applicable.
            applicantAuthorizedRepresentativeSignature:
              $ref: "./common.yaml#/Signature"
              description: Authorized representative signature for the applicant.
            coApplicantAuthorizedRepresentativeSignature:
              $ref: "./common.yaml#/Signature"
              description: Authorized representative signature for the co-applicant.
    personWhoHelpedCompleteApplication:
      type: object
      description: Information about the person who helped complete this application.
      additionalProperties: false
      properties:
        name:
          type: string
          description: Name of the person who helped complete the application.
          maxLength: 200
        address:
          $ref: "./common.yaml#/Address"
          description: Address of the person who helped complete the application.
        phoneNumber:
          $ref: "./common.yaml#/PhoneNumber"
          description: Phone number of the person who helped complete the application.
    householdDetails:
      type: object
      description: Additional household details beyond the persons array.
      additionalProperties: false
      properties:
        roomersOrBoarders:
          type: array
          description: Roomers or boarders in the home.
          items:
            type: object
            additionalProperties: false
            properties:
              name:
                type: string
                maxLength: 200
              rentAmount:
                type: number
                minimum: 0
                description: Amount paid for rent per month.
              mealsIncluded:
                type: boolean
                description: Whether meals are included with the rent.
        institutionalizedMembers:
          type: array
          description: Household members temporarily in an institution.
          items:
            type: object
            additionalProperties: false
            properties:
              name:
                type: string
                maxLength: 200
              dateEntered:
                type: string
                format: date
              facilityName:
                type: string
                maxLength: 200
              facilityType:
                type: string
                enum:
                  - nursing_home
                  - hospital
                  - mental_health_institution
                  - incarceration
                  - other
              isPendingDisposition:
                type: boolean
                description: Whether pending disposition of charges.
              mealsProvided:
                type: boolean
                description: Whether meals are provided by the facility.
    expeditedSNAPDetails:
      type: object
      description: Expedited SNAP details for faster processing.
      additionalProperties: false
      properties:
        householdSize:
          type: integer
          minimum: 1
          description: Number of people in the home who purchase and prepare food together.
        isMigrantOrSeasonalFarmWorker:
          type: boolean
        totalExpectedIncomeThisMonth:
          type: number
          minimum: 0
          description: Total money household expects to get this month (before deductions).
        totalCashOnHand:
          type: number
          minimum: 0
          description: Total cash on hand and money in checking/savings account.
        monthlyMortgage:
          type: number
          minimum: 0
        monthlyRent:
          type: number
          minimum: 0
        utilityCosts:
          type: object
          description: Monthly utility costs.
          additionalProperties: false
          properties:
            electricity:
              type: number
              minimum: 0
            water:
              type: number
              minimum: 0
            phone:
              type: number
              minimum: 0
            trash:
              type: number
              minimum: 0
            sewer:
              type: number
              minimum: 0
            other:
              type: number
              minimum: 0
        receivedBenefitsOtherState:
          type: boolean
          description: Whether anyone received SNAP or cash benefits in another state in last 30 days.
    ebtCard:
      type: object
      description: |
        EBT card information. Used for SNAP and Cash Programs.
      additionalProperties: false
      properties:
        needsEBTCard:
          type: boolean
          description: Whether the applicant needs an EBT card.
        ebtCardDeliveryMethod:
          type: string
          enum:
            - postal_mail
            - in_person
          description: Preferred method for receiving the EBT card.
    voterRegistration:
      type: object
      description: Voter registration information.
      additionalProperties: false
      properties:
        wantsToRegister:
          type: boolean
          description: Whether the applicant wants to register to vote.
    dependentChildren:
      type: object
      description: Information about dependent children.
      additionalProperties: false
      properties:
        livesWithChildUnder19:
          type: boolean
          description: Whether applicant lives with at least one child under 19 and is the main caretaker.
        hasParentOutsideHome:
          type: boolean
          description: Whether any children have a parent living outside the home.
        triedToGetMedicalSupport:
          type: boolean
          description: Whether applicant tried to get medical support from absent parent.
        absentParents:
          type: array
          items:
            type: object
            additionalProperties: false
            properties:
              name:
                type: string
                maxLength: 200
              address:
                $ref: "./common.yaml#/Address"
              phoneNumber:
                $ref: "./common.yaml#/PhoneNumber"
              forWhichChild:
                type: string
                maxLength: 200
        wantsGoodCauseFromChildSupport:
          type: boolean
          description: Whether applicant wants to apply for good cause from pursuing Child Support Services.
    fosterCare:
      type: object
      description: |
        Foster care flags and application-level Former Foster Care Medical Assistance info.
        Person-specific foster care history is stored in each person's fosterCareHistory
        field within the persons array.
      additionalProperties: false
      properties:
        hasFosterCareHistory:
          type: boolean
          description: Whether anyone applying has been in foster care.
        formerFosterCareMedicalAssistance:
          type: object
          description: Information about receiving Former Foster Care Medical Assistance.
          additionalProperties: false
          properties:
            receivedFormerFosterCareMedicalAssistance:
              type: boolean
            name:
              type: string
              maxLength: 200
            stateLivedInWhenAgedOut:
              type: string
              maxLength: 2
            nameUsedInOutOfStateFosterCare:
              type: string
              maxLength: 200
            dateLeftFosterCare:
              type: string
              format: date
            wereAdopted:
              type: boolean
            returnedToFosterCareAfterAdoption:
              type: boolean
            residencyDate:
              type: string
              format: date
            needsHelpPayingMedicalBills:
              type: boolean
            medicalBillsHelpWhen:
              type: string
              format: date
            medicalBillsHelpMonths:
              type: array
              items:
                type: string
                format: date
    familyPlanning:
      type: object
      description: |
        Family planning benefits flag. Person-specific family planning preferences
        are stored in each person's wantsFamilyPlanningBenefits field within the persons array.
      additionalProperties: false
      properties:
        wantsFamilyPlanningBenefits:
          type: boolean
          description: Whether any household member wants family planning benefits.
    pregnancy:
      type: object
      description: |
        Pregnancy flag. Person-specific pregnancy information is stored in each
        person's pregnancyInfo field within the persons array.
      additionalProperties: false
      properties:
        isAnyonePregnant:
          type: boolean
          description: Whether any household member is pregnant.
    disability:
      type: object
      description: |
        Disability flags and household-level SSI/SSDI history. Person-specific disability
        information is stored in each person's disabilityInfo and socialSecurityApplications
        fields within the persons array.
      additionalProperties: false
      properties:
        hasDisability:
          type: boolean
          description: Whether any household member has a disability.
        everReceivedSSIOrSSDI:
          type: boolean
          description: Whether any household member has ever received SSI or SSDI.
        ssiOrSsdiEndDate:
          type: string
          format: date
          description: Date SSI or SSDI benefits ended.
    nonCitizen:
      type: object
      description: |
        Non-citizen flags and emergency Medicaid info. Person-specific immigration
        information is stored in each person's immigrationInfo field within the persons array.
      additionalProperties: false
      properties:
        wantsEmergencyMedicaidAndReproductiveBenefits:
          type: boolean
          description: Whether any household member wants emergency Medicaid and reproductive benefits.
        emergencyMedicaidApplicants:
          type: array
          description: Names of household members applying for emergency Medicaid.
          items:
            type: string
            maxLength: 200
        hasNonCitizens:
          type: boolean
          description: Whether any household member is a non-citizen.
    earnedIncome:
      type: object
      description: |
        Earned income flags. Person-specific employment data is stored in each person's
        jobs, selfEmployment, and jobChanges arrays within the persons array.
      additionalProperties: false
      properties:
        hasEmployment:
          type: boolean
          description: Whether any household member has employment income.
        hasSelfEmployment:
          type: boolean
          description: Whether any household member has self-employment income.
        hasJobChanges:
          type: boolean
          description: Whether any household member has recent job changes.
    unearnedIncome:
      type: object
      description: |
        Unearned income flags. Person-specific unearned income data is stored in each person's
        unearnedIncomeSources, lumpSumPayments, and strikeInfo fields within the persons array.
      additionalProperties: false
      properties:
        hasOtherIncome:
          type: boolean
          description: Whether any household member has unearned income.
        hasLumpSumPayments:
          type: boolean
          description: Whether any household member received lump sum payments.
        isAnyoneOnStrike:
          type: boolean
          description: Whether any household member is on strike.
    expenses:
      type: object
      description: |
        Household-level expense settings. Person-specific expense data is stored in each
        person's expenses field within the persons array.
      additionalProperties: false
      properties:
        rent:
          type: object
          description: Household-level rent settings.
          additionalProperties: false
          properties:
            hasRentExpenses:
              type: boolean
              description: Whether any household member has rent expenses.
            utilitiesIncludedInRent:
              type: boolean
            receivesSection8OrPublicHousing:
              type: boolean
            housingAssistanceType:
              type: string
              enum:
                - section8
                - public_housing
        mortgage:
          type: object
          description: Household-level mortgage settings.
          additionalProperties: false
          properties:
            hasMortgageExpenses:
              type: boolean
              description: Whether any household member has mortgage expenses.
            receivesSection8OrPublicHousing:
              type: boolean
            housingAssistanceType:
              type: string
              enum:
                - section8
                - public_housing
        utilities:
          type: object
          description: Household-level utility settings.
          additionalProperties: false
          properties:
            heatingCoolingMethod:
              type: array
              items:
                type: string
                enum:
                  - electric
                  - gas
                  - firewood
                  - propane
                  - swamp_cooler
                  - other
            otherHeatingCoolingType:
              type: string
              maxLength: 100
            receivedLEAP:
              type: boolean
        additionalExpenses:
          type: object
          description: Household-level additional expense settings.
          additionalProperties: false
          properties:
            hasAdditionalExpenses:
              type: boolean
              description: Whether any household member has additional expenses.
    students:
      type: object
      description: |
        Student flags and household-level student data. Person-specific student details
        are stored in each person's studentInfo and hasFinancialAid fields within the persons array.
      additionalProperties: false
      properties:
        hasStudents:
          type: boolean
          description: Whether any household member is a student.
        hasFinancialAid:
          type: boolean
          description: Whether any household member receives financial aid.
        grantsScholarshipsWorkStudyForLivingExpenses:
          type: number
          minimum: 0
          description: Total grants/scholarships/work-study used for living expenses.
        taxableGrantsScholarshipsWorkStudy:
          type: number
          minimum: 0
          description: Total taxable grants/scholarships/work-study.
    resources:
      type: object
      description: |
        Resource flags. Person-specific resource data is stored in each person's
        financialResources, vehicles, insurancePolicies, properties, and transferredAssets
        arrays within the persons array.
      additionalProperties: false
      properties:
        hasResources:
          type: boolean
          description: Whether any household member has financial resources.
        hasVehicles:
          type: boolean
          description: Whether any household member owns vehicles.
        hasLifeOrBurialInsurance:
          type: boolean
          description: Whether any household member has life or burial insurance.
        ownsProperty:
          type: boolean
          description: Whether any household member owns real estate property.
        hasTransferredAssets:
          type: boolean
          description: Whether any household member has transferred assets.
    priorConvictions:
      type: object
      description: |
        Prior convictions flags. Person-specific conviction data is stored in each person's
        priorConvictions object within the persons array.
      additionalProperties: false
      properties:
        convictedOfDuplicateSNAPBenefits:
          type: boolean
          description: Whether any household member was convicted of duplicate SNAP benefits.
        hidingFromLaw:
          type: boolean
          description: Whether any household member is hiding from law enforcement.
        convictedOfDrugFelony:
          type: boolean
          description: Whether any household member was convicted of a drug felony.
        convictedOfSNAPTrafficking:
          type: boolean
          description: Whether any household member was convicted of SNAP trafficking.
        convictedOfTradingSNAPForWeapons:
          type: boolean
          description: Whether any household member was convicted of trading SNAP for weapons.
        disqualifiedForIPVOrWelfareFraud:
          type: boolean
          description: Whether any household member was disqualified for IPV or welfare fraud.
        convictedOfViolentCrime:
          type: boolean
          description: Whether any household member was convicted of a violent crime.
    hasMilitaryService:
      type: boolean
      description: |
        Whether any household member has military service. Person-specific military service
        data is stored in each person's isMilitaryServiceMember field within the persons array.
    burialPreference:
      type: string
      enum:
        - cremation
        - burial
        - no_preference
    retroactiveMedicalCoverage:
      type: object
      description: |
        Retroactive medical coverage flags. Person-specific retroactive coverage requests
        are stored in each person's retroactiveMedicalRequest field within the persons array.
      additionalProperties: false
      properties:
        wantsRetroactiveCoverage:
          type: boolean
          description: Whether any household member wants retroactive medical coverage.
    healthInsurance:
      type: object
      description: |
        Health insurance flags and employer-sponsored coverage. Person-specific health insurance
        data is stored in each person's healthCoverage, medicare, federalHealthBenefits,
        separateMailAddress, and hasLegalClaim fields within the persons array.
      additionalProperties: false
      properties:
        hasHealthInsurance:
          type: boolean
          description: Whether any household member has health insurance.
        employerSponsoredCoverage:
          type: array
          description: Employer-sponsored health coverage options (household-level).
          items:
            type: object
            additionalProperties: false
            properties:
              employerName:
                type: string
                maxLength: 200
              employerIdentificationNumber:
                type: string
                maxLength: 50
              employerAddress:
                $ref: "./common.yaml#/Address"
              employerPhone:
                $ref: "./common.yaml#/PhoneNumber"
              contactAboutCoverage:
                type: string
                maxLength: 200
              coverageStartDate:
                type: string
                format: date
              coverageEndDate:
                type: string
                format: date
              whoElseHadAccess:
                type: string
                maxLength: 200
              whoElseWasEnrolled:
                type: string
                maxLength: 200
              premiumAmount:
                type: number
                minimum: 0
              premiumAmountUnknown:
                type: boolean
              premiumFrequency:
                type: string
                enum:
                  - weekly
                  - every_two_weeks
                  - twice_monthly
                  - monthly
                  - yearly
              hasEmployeeOnlyPlanMeetingMinimumValue:
                type: boolean
              lowestCostPlanName:
                type: string
                maxLength: 200
              lowestCostPlanUnknown:
                type: boolean
              noPlansMeetMinimumValue:
                type: boolean
        hasLegalClaim:
          type: boolean
          description: Whether any household member has a legal claim related to medical care.
        wantsSeparateMail:
          type: boolean
          description: Whether any household member wants separate mail for medical correspondence.
    expectedIncomeChange:
      type: object
      description: |
        Expected income change flags. Person-specific income change data is stored in each
        person's expectedIncomeChange field within the persons array.
      additionalProperties: false
      properties:
        doesIncomeChangeFromMonthToMonth:
          type: boolean
          description: Whether any household member's income changes from month to month.
    reasonsForIncomeDifferences:
      type: object
      description: |
        Reasons for income differences flags and household-level deductions.
        Person-specific income change reasons are stored in each person's
        incomeChangeReason field within the persons array.
      additionalProperties: false
      properties:
        hasJobOrNonJobRelatedDeductions:
          type: boolean
          description: Whether any household member has job or non-job related deductions.
        deductionsChangeMonthToMonth:
          type: boolean
          description: Whether deductions change from month to month.
        deductions:
          type: array
          description: Household-level deductions.
          items:
            type: object
            additionalProperties: false
            properties:
              deductionType:
                type: string
                maxLength: 200
              frequency:
                type: string
                enum:
                  - one_time_only
                  - weekly
                  - every_two_weeks
                  - twice_monthly
                  - monthly
                  - yearly
              currentAmount:
                type: number
                minimum: 0
              actualAnnualAmount:
                type: number
                minimum: 0
        hasPastIncomeAndDeductions:
          type: boolean
        pastIncomeAmount:
          type: number
          minimum: 0
        pastDeductionsAmount:
          type: number
          minimum: 0
    americanIndianOrAlaskaNativeInformation:
      type: object
      description: |
        American Indian or Alaska Native flags. Person-specific tribal information
        is stored in each person's tribalInfo field within the persons array.
      additionalProperties: false
      properties:
        isAnyoneAmericanIndianOrAlaskaNative:
          type: boolean
          description: Whether any household member is American Indian or Alaska Native.
        hasAnyoneReceivedServiceFromIndianHealthService:
          type: boolean
          description: Whether any household member has received service from Indian Health Service.
        isAnyoneEligibleForIndianHealthService:
          type: boolean
          description: Whether any household member is eligible for Indian Health Service.
    permissionToValidateIncome:
      type: object
      additionalProperties: false
      properties:
        doesNotGivePermissionToValidateIncome:
          type: boolean
    authorizedRepresentative:
      type: object
      description: Authorized representative information.
      additionalProperties: false
      properties:
        isIndividual:
          type: boolean
        name:
          type: string
          maxLength: 200
        organizationId:
          type: string
          maxLength: 50
        address:
          $ref: "./common.yaml#/Address"
        inCareOf:
          type: string
          maxLength: 200
        phoneNumber:
          $ref: "./common.yaml#/PhoneNumber"
        email:
          $ref: "./common.yaml#/Email"
        receiveNotices:
          type: boolean
        applicantSignature:
          $ref: "./common.yaml#/Signature"
        authorizedRepresentativeSignature:
          $ref: "./common.yaml#/Signature"
    createdAt:
      type: string
      format: date-time
      description: Timestamp when the application was created.
      readOnly: true
    updatedAt:
      type: string
      format: date-time
      description: Timestamp when the application was last updated.
      readOnly: true

# Person associated with an application (primary applicant or household member)
ApplicationPerson:
  type: object
  description: |
    A person associated with an application. Includes the primary applicant (relationship=self)
    and household members. Shares core identity fields with the Person schema.
  additionalProperties: false
  required:
    - name
    - relationship
    - dateOfBirth
  properties:
    # Identity fields (shared with Person schema)
    name:
      $ref: "./common.yaml#/Name"
      description: Legal name of the person.
    dateOfBirth:
      type: string
      format: date
      description: Birth date of the person.
    socialSecurityNumber:
      $ref: "./common.yaml#/SocialSecurityNumber"
      description: Social Security Number for identity verification.
    gender:
      type: string
      description: Gender identity of the person.
      enum:
        - male
        - female
        - unknown
    maritalStatus:
      type: string
      description: Current marital status.
      enum:
        - single
        - married
        - divorced
        - separated
        - widowed
        - civil_union
        - domestic_partnership
    isUSCitizen:
      type: boolean
      description: Whether the person is a US citizen or national.
    citizenshipStatus:
      type: string
      description: Citizenship or immigration status relevant to benefits eligibility.
      enum:
        - citizen
        - permanent_resident
        - qualified_non_citizen
        - undocumented
        - other
    # ApplicationPerson-specific fields
    relationship:
      type: string
      description: |
        Relationship to primary applicant. Use "self" for the primary applicant.
      enum:
        - self
        - spouse
        - child
        - parent
        - sibling
        - other_relative
        - non_relative
    citizenshipCertificateNumber:
      type: string
      description: Certificate number if naturalized or derived citizen.
      maxLength: 50
    isHispanicOrLatino:
      type: boolean
      description: Whether the person identifies as Hispanic or Latino.
    race:
      type: array
      description: Race identification (can select multiple).
      items:
        type: string
        enum:
          - american_indian_alaskan_native
          - asian
          - black_african_american
          - native_hawaiian_pacific_islander
          - white
    programsApplyingFor:
      type: object
      description: Programs this person is applying for (Medical Assistance specific - each household member can apply for different programs).
      additionalProperties: false
      properties:
        snap:
          type: boolean
          description: Whether applying for Supplemental Nutrition Assistance Program (SNAP).
        cashPrograms:
          type: object
          description: Cash Programs being applied for (TANF, Adult Financial).
          additionalProperties: false
          properties:
            tanfProgram:
              type: boolean
              description: Whether applying for Temporary Assistance for Needy Families (TANF).
            adultFinancial:
              type: boolean
              description: Whether applying for Adult Financial (SSI Supplement, AND, OAP, HCA).
        medicalAssistance:
          type: boolean
          description: Whether applying for Medical Assistance (State Medicaid, Children's Health Insurance, Health Insurance Marketplace).
        notApplying:
          type: boolean
          description: This person is not applying for any programs.
    # Person-specific data (moved from Application level)
    # Disability/Health
    disabilityInfo:
      $ref: "#/DisabilityInfo"
      description: Disability information for this person.
    socialSecurityApplications:
      type: array
      description: SSI/SSDI applications for this person.
      items:
        $ref: "#/SocialSecurityApplication"
    healthCoverage:
      type: array
      description: Health insurance coverage details for this person.
      items:
        $ref: "#/HealthCoverageDetail"
    medicare:
      $ref: "#/MedicareInfo"
      description: Medicare coverage information for this person.
    federalHealthBenefits:
      type: array
      description: Federal health benefit programs this person is enrolled in.
      items:
        $ref: "#/FederalHealthBenefit"
    separateMailAddress:
      $ref: "./common.yaml#/Address"
      description: Separate mailing address for this person's medical correspondence.
    hasLegalClaim:
      type: boolean
      description: Whether this person has a legal claim related to medical care.
    # Expenses
    expenses:
      $ref: "#/PersonExpenses"
      description: Expenses paid by or for this person.
    # Expected Changes
    expectedIncomeChange:
      $ref: "#/ExpectedIncomeChangeInfo"
      description: Expected income change information for this person.
    incomeChangeReason:
      $ref: "#/IncomeChangeReason"
      description: Reason for income change for this person.
    # Foster Care
    fosterCareHistory:
      $ref: "#/FosterCareHistory"
      description: Foster care history for this person.
    # Immigration
    immigrationInfo:
      $ref: "#/ImmigrationInfo"
      description: Immigration information for this person (if non-citizen).
    # Income - Earned
    jobs:
      type: array
      description: Current employment jobs for this person.
      items:
        $ref: "#/Job"
    selfEmployment:
      type: array
      description: Self-employment businesses for this person.
      items:
        $ref: "#/SelfEmploymentRecord"
    jobChanges:
      type: array
      description: Recent job changes or employment history for this person.
      items:
        $ref: "#/JobChange"
    # Income - Unearned
    unearnedIncomeSources:
      type: array
      description: Unearned income sources for this person.
      items:
        $ref: "#/UnearnedIncomeSource"
    lumpSumPayments:
      type: array
      description: Lump sum payments received by this person.
      items:
        $ref: "#/LumpSumPayment"
    strikeInfo:
      $ref: "#/StrikeInfo"
      description: Strike information if this person is on strike.
    # Military
    isMilitaryServiceMember:
      type: boolean
      description: Whether this person is a military service member.
    # Planning
    wantsFamilyPlanningBenefits:
      type: boolean
      description: Whether this person wants family planning benefits.
    # Pregnancy
    pregnancyInfo:
      $ref: "#/PregnancyInfo"
      description: Pregnancy information for this person.
    # Prior Convictions
    priorConvictions:
      $ref: "#/PriorConvictionsInfo"
      description: Prior convictions information for this person.
    # Resources
    financialResources:
      type: array
      description: Financial resources owned by this person.
      items:
        $ref: "#/FinancialResource"
    vehicles:
      type: array
      description: Vehicles owned by this person.
      items:
        $ref: "#/Vehicle"
    insurancePolicies:
      type: array
      description: Life or burial insurance policies for this person.
      items:
        $ref: "#/InsurancePolicy"
    properties:
      type: array
      description: Real estate properties owned by this person.
      items:
        $ref: "#/Property"
    transferredAssets:
      type: array
      description: Assets transferred by this person.
      items:
        $ref: "#/TransferredAsset"
    # Retroactive Coverage
    retroactiveMedicalRequest:
      $ref: "#/RetroactiveMedicalRequest"
      description: Request for retroactive medical coverage for this person.
    # Student
    studentInfo:
      $ref: "#/StudentInfo"
      description: Student enrollment information for this person.
    hasFinancialAid:
      type: boolean
      description: Whether this person receives financial aid as a student.
    # Tax Filing
    taxFilingInfo:
      $ref: "#/TaxFilingInfo"
      description: Tax filing information for this person.
    # Tribal
    tribalInfo:
      $ref: "#/TribalInfo"
      description: American Indian or Alaska Native tribal information for this person.

# Reusable Programs component
Programs:
  type: object
  description: Programs being applied for. A single application can include multiple programs.
  additionalProperties: false
  properties:
    snap:
      type: boolean
      description: Whether applying for Supplemental Nutrition Assistance Program (SNAP).
    cashPrograms:
      type: object
      description: Cash Programs being applied for (TANF, Adult Financial).
      additionalProperties: false
      properties:
        tanfProgram:
          type: boolean
          description: Whether applying for Temporary Assistance for Needy Families (TANF).
        adultFinancial:
          type: boolean
          description: Whether applying for Adult Financial (SSI Supplement, AND, OAP, HCA).
    medicalAssistance:
      type: boolean
      description: Whether applying for Medical Assistance (State Medicaid, Children's Health Insurance, Health Insurance Marketplace).

# Ancillary schemas (alphabetical order)

AdditionalExpense:
  type: object
  description: Additional expense item (childcare, medical, child support, etc.).
  additionalProperties: false
  properties:
    expenseType:
      type: string
      enum:
        - child_daycare
        - adult_daycare
        - legally_obligated_child_support
        - child_support_arrears
        - medical_expenses
        - student_loan_interest
        - alimony
    monthOfExpense:
      type: string
      format: date
    amountPaid:
      type: number
      minimum: 0
    legallyObligatedAmount:
      type: number
      minimum: 0

DisabilityInfo:
  type: object
  description: Disability information for a person.
  additionalProperties: false
  properties:
    needsHelpWithSelfCare:
      type: boolean
      description: Whether this person needs help with self-care activities.
    hasMedicalOrDevelopmentalCondition:
      type: boolean
      description: Whether this person has a medical or developmental condition.

ExpectedIncomeChangeInfo:
  type: object
  description: Expected income change information for a person.
  additionalProperties: false
  properties:
    annualIncome:
      type: number
      minimum: 0
    employerName:
      type: string
      maxLength: 200
    willAnnualIncomeBeSameOrLowerNextYear:
      type: boolean

FederalHealthBenefit:
  type: object
  description: Federal health benefit program enrollment.
  additionalProperties: false
  properties:
    programTypeOrName:
      type: string
      maxLength: 200
    insuranceCompanyName:
      type: string
      maxLength: 200
    policyNumber:
      type: string
      maxLength: 100

FinancialResource:
  type: object
  description: Financial resource or asset.
  additionalProperties: false
  properties:
    resourceType:
      type: string
      enum:
        - cash_on_hand
        - checking_account
        - savings_account
        - stocks
        - bonds
        - mutual_funds
        - 401k
        - ira
        - trusts
        - cds
        - annuities
        - college_funds
        - pass_accounts
        - idas
        - promissory_notes
        - education_accounts
        - other
    financialInstitutionName:
      type: string
      maxLength: 200
    accountNumber:
      type: string
      maxLength: 100
    currentValue:
      type: number
      minimum: 0

FosterCareHistory:
  type: object
  description: Foster care history for a person.
  additionalProperties: false
  properties:
    datesInFosterCare:
      type: string
      description: Date range or dates when in foster care.
      maxLength: 200
    ageWhenLeft:
      type: integer
      minimum: 0
      description: Age when left foster care if known.

HealthCoverageDetail:
  type: object
  description: Health insurance coverage detail.
  additionalProperties: false
  properties:
    typeOfCoverage:
      type: string
      enum:
        - medicare
        - tricare
        - va_health_care
        - peace_corps
        - cobra
        - retiree_health_plan
        - current_employer_sponsored
        - railroad_retirement_insurance
    coverageStartDate:
      type: string
      format: date
    coverageEndDate:
      type: string
      format: date
    enrollmentStatus:
      type: string
      enum:
        - eligible
        - enrolled

ImmigrationInfo:
  type: object
  description: Immigration information for a non-citizen.
  additionalProperties: false
  properties:
    status:
      type: string
      maxLength: 100
    documentType:
      type: string
      maxLength: 100
    documentNumber:
      type: string
      maxLength: 100
    alienOrI94Number:
      type: string
      maxLength: 100
    documentExpirationDate:
      type: string
      format: date
    countryOfIssuance:
      type: string
      maxLength: 100
    livedInUSSince1996:
      type: boolean
    spouseOrParentIsVeteranOrActiveDuty:
      type: boolean
    hasSponsor:
      type: boolean
    sponsor:
      type: object
      description: Sponsor information for this non-citizen.
      additionalProperties: false
      properties:
        hasBeenAbandonedMistreatedOrAbused:
          type: boolean
        isPregnantOr20OrYounger:
          type: boolean
        sponsorName:
          type: string
          maxLength: 200
        sponsorSpouseName:
          type: string
          maxLength: 200
        sponsorSocialSecurityNumber:
          $ref: "./common.yaml#/SocialSecurityNumber"
        sponsorAddress:
          $ref: "./common.yaml#/Address"
        sponsorSpouseSocialSecurityNumber:
          $ref: "./common.yaml#/SocialSecurityNumber"
        totalPeopleInSponsorHousehold:
          type: integer
          minimum: 1
        doesSponsoredIndividualLiveWithSponsor:
          type: boolean
        doesSponsoredIndividualReceiveFreeRoomAndBoard:
          type: boolean
        doesSponsoredIndividualReceiveSupportFromSponsor:
          type: boolean

IncomeChangeReason:
  type: object
  description: Reason for income change.
  additionalProperties: false
  properties:
    whatHappened:
      type: string
      enum:
        - stopped_working_job
        - hours_changed_at_job
        - change_in_employment
        - married_legal_separation_or_divorce
        - other

InsurancePolicy:
  type: object
  description: Life or burial insurance policy.
  additionalProperties: false
  properties:
    policyType:
      type: string
      enum:
        - life_insurance
        - burial_insurance
    company:
      type: string
      maxLength: 200
    policyNumber:
      type: string
      maxLength: 100
    revocableOrIrrevocable:
      type: string
      enum:
        - revocable
        - irrevocable
    policyValue:
      type: number
      minimum: 0

Job:
  type: object
  description: Employment job information.
  additionalProperties: false
  properties:
    employerName:
      type: string
      maxLength: 200
    employerPhone:
      $ref: "./common.yaml#/PhoneNumber"
    monthlyWagesBeforeTaxes:
      type: number
      minimum: 0
    hourlyWage:
      type: number
      minimum: 0
    averageHoursPerWeek:
      type: number
      minimum: 0
      maximum: 168
    payFrequency:
      type: string
      enum:
        - hourly
        - weekly
        - every_two_weeks
        - twice_monthly
        - monthly
        - yearly
        - daily
    isTemporaryJob:
      type: boolean
    incomeType:
      type: string
      enum:
        - seasonal_employment
        - commission_based_employment
        - regular_employment

JobChange:
  type: object
  description: Job change or employment history record.
  additionalProperties: false
  properties:
    employerName:
      type: string
      maxLength: 200
    employerPhone:
      $ref: "./common.yaml#/PhoneNumber"
    startDate:
      type: string
      format: date
    endDate:
      type: string
      format: date
    monthlyWagesBeforeTaxes:
      type: number
      minimum: 0
    lastPaycheckDate:
      type: string
      format: date
    lastPaycheckAmount:
      type: number
      minimum: 0
    payFrequency:
      type: string
      enum:
        - hourly
        - weekly
        - every_two_weeks
        - twice_monthly
        - monthly
        - yearly

LumpSumPayment:
  type: object
  description: One-time lump sum payment received.
  additionalProperties: false
  properties:
    dateReceived:
      type: string
      format: date
    type:
      type: string
      enum:
        - lawsuit_settlement
        - insurance_settlement
        - social_security_ssi_ssdi_payment
        - veterans
        - inheritance
        - surrender_of_annuity
        - life_insurance_payout
        - lottery_gambling_winnings
        - other
    amount:
      type: number
      minimum: 0

MedicareInfo:
  type: object
  description: Medicare coverage information.
  additionalProperties: false
  properties:
    partA:
      type: object
      additionalProperties: false
      properties:
        isEntitledOrReceiving:
          type: boolean
        startDate:
          type: string
          format: date
        isCurrentlyEnrolled:
          type: boolean
        whoPaysPremium:
          type: string
          maxLength: 200
        isPremiumFree:
          type: boolean
    partB:
      type: object
      additionalProperties: false
      properties:
        isEntitledOrReceiving:
          type: boolean
        startDate:
          type: string
          format: date
        premiumAmount:
          type: number
          minimum: 0
        whoPaysPremium:
          type: string
          maxLength: 200
    partC:
      type: object
      additionalProperties: false
      properties:
        isEntitledOrReceiving:
          type: boolean
        startDate:
          type: string
          format: date
    partD:
      type: object
      additionalProperties: false
      properties:
        isEntitledOrReceiving:
          type: boolean
        startDate:
          type: string
          format: date
        premiumAmount:
          type: number
          minimum: 0
        whoPaysPremium:
          type: string
          maxLength: 200

MortgageExpense:
  type: object
  description: Mortgage expense item.
  additionalProperties: false
  properties:
    expenseType:
      type: string
      enum:
        - mortgage
        - homeowners_insurance
        - property_taxes
        - hoa_fees
    expenseMonth:
      type: string
      format: date
    amountPaid:
      type: number
      minimum: 0

PersonExpenses:
  type: object
  description: Expenses paid by or for this person.
  additionalProperties: false
  properties:
    rent:
      type: array
      items:
        $ref: "#/RentExpense"
    mortgage:
      type: array
      items:
        $ref: "#/MortgageExpense"
    utilities:
      type: array
      items:
        $ref: "#/UtilityExpense"
    additionalExpenses:
      type: array
      items:
        $ref: "#/AdditionalExpense"

PregnancyInfo:
  type: object
  description: Pregnancy information.
  additionalProperties: false
  properties:
    dueDate:
      type: string
      format: date
    numberOfBabiesExpected:
      type: integer
      minimum: 1
    fatherName:
      type: string
      maxLength: 200
    wantsGoodCauseFromChildSupport:
      type: boolean

PriorConvictionsInfo:
  type: object
  description: Prior convictions information for a person.
  additionalProperties: false
  properties:
    convictedOfDuplicateSNAPBenefits:
      type: boolean
    hidingFromLaw:
      type: boolean
    convictedOfDrugFelony:
      type: boolean
    convictedOfSNAPTrafficking:
      type: boolean
    convictedOfTradingSNAPForWeapons:
      type: boolean
    disqualifiedForIPVOrWelfareFraud:
      type: boolean
    convictedOfViolentCrime:
      type: boolean

Property:
  type: object
  description: Real estate property.
  additionalProperties: false
  properties:
    propertyType:
      type: string
      maxLength: 200
    propertyAddress:
      $ref: "./common.yaml#/Address"
    primaryPropertyUse:
      type: array
      items:
        type: string
        enum:
          - primary_home
          - rental_income
          - business_self_employment
          - other
    primaryPropertyUseOther:
      type: string
      maxLength: 200
    currentValue:
      type: number
      minimum: 0

RentExpense:
  type: object
  description: Rent expense item.
  additionalProperties: false
  properties:
    expenseType:
      type: string
      enum:
        - rent
        - renters_insurance
        - pet_fee
        - washer_dryer_fee
        - condo_fee
        - maintenance_fee
        - other
    expenseMonth:
      type: string
      format: date
    amountPaid:
      type: number
      minimum: 0

RetroactiveMedicalRequest:
  type: object
  description: Request for retroactive medical coverage.
  additionalProperties: false
  properties:
    months:
      type: array
      items:
        type: string
        format: date
    householdIncomeInThoseMonths:
      type: number
      minimum: 0

SelfEmploymentRecord:
  type: object
  description: Self-employment business record.
  additionalProperties: false
  properties:
    businessName:
      type: string
      maxLength: 200
    oneMonthsGrossIncome:
      type: number
      minimum: 0
    monthOfIncome:
      type: string
      format: date
    selfEmploymentType:
      type: string
      enum:
        - sole_proprietor
        - llc
        - s_corp
        - independent_contractor
    utilitiesPaidForBusiness:
      type: number
      minimum: 0
    businessTaxesPaid:
      type: number
      minimum: 0
    interestPaidForBusiness:
      type: number
      minimum: 0
    grossBusinessLaborCosts:
      type: number
      minimum: 0
    costOfMerchandise:
      type: number
      minimum: 0
    otherBusinessCosts:
      type: array
      items:
        type: object
        additionalProperties: false
        properties:
          type:
            type: string
            maxLength: 200
          amount:
            type: number
            minimum: 0
    totalNetIncome:
      type: number

SocialSecurityApplication:
  type: object
  description: SSI/SSDI application record.
  additionalProperties: false
  properties:
    program:
      type: string
      enum:
        - SSI
        - SSDI
        - other
    otherProgramName:
      type: string
      maxLength: 200
    applicationDate:
      type: string
      format: date
    status:
      type: string
      enum:
        - pending
        - approved
        - denied
        - appealed

StrikeInfo:
  type: object
  description: Strike information for a person on strike.
  additionalProperties: false
  properties:
    strikeBeginDate:
      type: string
      format: date
    lastPaycheckDate:
      type: string
      format: date
    lastPaycheckAmount:
      type: number
      minimum: 0

StudentInfo:
  type: object
  description: Student enrollment information.
  additionalProperties: false
  properties:
    schoolName:
      type: string
      maxLength: 200
    lastGradeCompleted:
      type: string
      maxLength: 50
    startDate:
      type: string
      format: date
    expectedGraduationDate:
      type: string
      format: date
    isFullTimeStudent:
      type: boolean

TaxFilingInfo:
  type: object
  description: Tax filing information for a person.
  additionalProperties: false
  properties:
    willFileTaxes:
      type: boolean
    filingJointlyWithSpouse:
      type: boolean
    spouseName:
      type: string
      maxLength: 200
    willClaimDependents:
      type: boolean
    dependentsToClaim:
      type: array
      items:
        type: string
        maxLength: 200
    expectsToBeClaimedAsDependent:
      type: boolean
    isClaimedAsDependent:
      type: boolean
    nameOfPersonClaiming:
      type: string
      maxLength: 200
    isPersonClaimingListedOnApplication:
      type: boolean
    isPersonClaimingNonCustodialParent:
      type: boolean
    marriedFilingSeparatelyWithExceptionalCircumstances:
      type: boolean

TransferredAsset:
  type: object
  description: Asset that was transferred.
  additionalProperties: false
  properties:
    dateOfTransfer:
      type: string
      format: date
    assetDescription:
      type: string
      maxLength: 500
    amountReceived:
      type: number
      minimum: 0
    fairMarketValue:
      type: number
      minimum: 0

TribalInfo:
  type: object
  description: American Indian or Alaska Native tribal information.
  additionalProperties: false
  properties:
    tribeName:
      type: string
      maxLength: 200
    tribeState:
      type: string
      maxLength: 100
    typeOfIncomeReceived:
      type: string
      maxLength: 200
    frequencyAndAmount:
      type: string
      maxLength: 200
    hasReceivedServiceFromIndianHealthService:
      type: boolean
    isEligibleForIndianHealthService:
      type: boolean

UnearnedIncomeSource:
  type: object
  description: Unearned income source.
  additionalProperties: false
  properties:
    incomeType:
      type: string
      enum:
        - unemployment_benefits
        - SSI
        - veterans_benefits
        - widow_benefits
        - workers_comp
        - railroad_retirement
        - child_support
        - survivors_benefits
        - dividends_interest
        - rental_income
        - money_from_boarder
        - disability_benefits
        - retirement_pension
        - SSDI
        - alimony
        - in_kind_income
        - social_security_benefits
        - public_assistance
        - plasma_donations
        - gifts
        - loans
        - foster_care_payments
        - tribal_benefits
        - other
    monthlyAmount:
      type: number
      minimum: 0

UtilityExpense:
  type: object
  description: Utility expense item.
  additionalProperties: false
  properties:
    utilityType:
      type: string
      enum:
        - electricity
        - gas
        - water
        - phone
        - trash
        - sewer
        - firewood
        - propane
        - other
    expenseMonth:
      type: string
      format: date
    amountPaid:
      type: number
      minimum: 0

Vehicle:
  type: object
  description: Vehicle owned by a person.
  additionalProperties: false
  properties:
    year:
      type: integer
      minimum: 1900
    make:
      type: string
      maxLength: 100
    model:
      type: string
      maxLength: 100
    currentValue:
      type: number
      minimum: 0
